{"file":"C:\\Users\\USER\\Desktop\\guardian-grove\\guardian-grove-backend\\tests\\controllers\\user.controller.test.ts","mappings":"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","names":[],"sources":["C:\\Users\\USER\\Desktop\\guardian-grove\\guardian-grove-backend\\tests\\controllers\\user.controller.test.ts"],"sourcesContent":["import { testUtils } from '../setup';\r\nimport {  getUsers, getUserById, createUser, editUserProfile,\r\n    deleteUser, updatePassword, getUserStars, updateUserStars,\r\n    getUserCoins, updateUserCoins, getLocation, updateLocation,\r\n    getUserRank, getUserInterests, startAdventure, completeChallenge,\r\n    getUserAdventures, getUserPurchasedItems, getUserAvatar\r\n} from '../../src/controllers/user.controller';\r\nimport { User } from '../../src/models/user.model';\r\nimport * as generateSecurePassword from '../../src/utils/generateSecurePassword';\r\nimport * as checkId from '../../src/utils/checkId';\r\nimport { Adventure } from '../../src/models/adventure.model';\r\nimport { Family } from '../../src/models/family.model';\r\nimport * as emailService from '../../src/services/email.service';\r\nimport * as recalculateFamilyMemberRanks from '../../src/utils/recalculateFamilyMemberRanks';\r\nimport * as bcrypt from 'bcrypt';\r\n\r\n// Mock all dependencies\r\njest.mock('../../src/models/user.model');\r\njest.mock('../../src/models/adventure.model');\r\njest.mock('../../src/models/family.model');\r\njest.mock('../../src/services/email.service');\r\njest.mock('../../src/utils/generateSecurePassword');\r\njest.mock('../../src/utils/recalculateFamilyMemberRanks');\r\njest.mock('../../src/utils/checkId');\r\njest.mock('bcrypt');\r\n\r\nconst mockUser = User as jest.Mocked<typeof User>;\r\nconst mockAdventure = Adventure as jest.Mocked<typeof Adventure>;\r\nconst mockFamily = Family as jest.Mocked<typeof Family>;\r\nconst mockGenerateSecurePassword = generateSecurePassword as jest.Mocked<typeof generateSecurePassword>;\r\nconst mockCheckId = checkId as jest.Mocked<typeof checkId>;\r\nconst mockEmailService = emailService as jest.Mocked<typeof emailService>;\r\nconst mockRecalculateFamilyMemberRanks = recalculateFamilyMemberRanks as jest.Mocked<typeof recalculateFamilyMemberRanks>;\r\nconst mockBcrypt = bcrypt as jest.Mocked<typeof bcrypt>;\r\n\r\ndescribe('User Controller Tests', () => {\r\n    beforeEach(() => {\r\n        jest.clearAllMocks();\r\n        \r\n        // Setup User model methods\r\n        mockUser.find = jest.fn();\r\n        mockUser.findOne = jest.fn();\r\n        mockUser.findById = jest.fn();\r\n        mockUser.create = jest.fn();\r\n        mockUser.findByIdAndUpdate = jest.fn();\r\n        mockUser.findByIdAndDelete = jest.fn();\r\n        mockUser.countDocuments = jest.fn();\r\n\r\n        // Setup Adventure model methods\r\n        mockAdventure.findById = jest.fn();\r\n\r\n        // Setup Family model methods\r\n        mockFamily.findOne = jest.fn();\r\n        mockFamily.findById = jest.fn();\r\n        mockFamily.findByIdAndUpdate = jest.fn();\r\n        \r\n        // Setup utility mocks\r\n        mockGenerateSecurePassword.generateSecurePassword.mockReturnValue('TempPass123!');\r\n        mockCheckId.checkId.mockReturnValue(true);\r\n        jest.spyOn(mockEmailService, 'sendMail').mockResolvedValue(undefined);\r\n        jest.spyOn(mockRecalculateFamilyMemberRanks, 'recalculateFamilyMemberRanks').mockResolvedValue(undefined);\r\n        \r\n        (jest.spyOn(bcrypt, 'hash') as jest.Mock).mockResolvedValue('hashedPassword');\r\n        (jest.spyOn(bcrypt, 'compare') as jest.Mock).mockResolvedValue(true);\r\n    });\r\n\r\n    // 1. test getUsers API\r\n    describe('getUsers', () => {\r\n        it('should return all users successfully', async () => {\r\n            const mockUsers = [\r\n                testUtils.createMockUser({ name: 'John' }),\r\n                testUtils.createMockUser({ name: 'Jane', _id: '507f1f77bcf86cd799439013' })\r\n            ];\r\n            mockUser.find.mockResolvedValue(mockUsers as any);\r\n\r\n            const mockReq = testUtils.createMockRequest();\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUsers(mockReq as any, mockRes as any);\r\n\r\n            expect(mockUser.find).toHaveBeenCalledTimes(1);\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.send).toHaveBeenCalledWith(mockUsers);\r\n        });\r\n\r\n        it('should handle database errors', async () => {\r\n            mockUser.find.mockRejectedValue(new Error('Database connection failed'));\r\n\r\n            const mockReq = testUtils.createMockRequest();\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUsers(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(500);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Error retrieving users' });\r\n        });\r\n    });\r\n\r\n    // 2. test getUserById API\r\n    describe('getUserById', () => {\r\n        it('should return user by ID successfully', async () => {\r\n            const mockUser_data = testUtils.createMockUser();\r\n            const mockUserDoc = {\r\n                ...mockUser_data,\r\n                select: jest.fn().mockResolvedValue(mockUser_data)\r\n            };\r\n            mockUser.findById.mockReturnValue(mockUserDoc as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: testUtils.createMockUser(),\r\n                body: { userId: '507f1f77bcf86cd799439011' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserById(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.json).toHaveBeenCalledWith({\r\n                message: \"Retrieving user successfully\",\r\n                user: mockUser_data\r\n            });\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserById(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n\r\n        it('should return 404 if user not found', async () => {\r\n            const mockUserDoc = {\r\n                select: jest.fn().mockResolvedValue(null)\r\n            };\r\n            mockUser.findById.mockReturnValue(mockUserDoc as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: testUtils.createMockUser(),\r\n                body: { userId: '507f1f77bcf86cd799439011' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserById(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(404);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'User not found' });\r\n        });\r\n\r\n        it('should return 403 if forbidden access', async () => {\r\n            const mockUser_data = testUtils.createMockUser({ email: 'different@email.com' });\r\n            const mockUserDoc = {\r\n                select: jest.fn().mockResolvedValue(mockUser_data)\r\n            };\r\n            mockUser.findById.mockReturnValue(mockUserDoc as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: testUtils.createMockUser({ _id: 'different-id', role: 'child' }),\r\n                body: { userId: '507f1f77bcf86cd799439011' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserById(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(403);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Forbidden' });\r\n        });\r\n    });\r\n\r\n    // 3. test createUser API\r\n    describe('createUser', () => {\r\n        const validUserData = {\r\n            name: 'Test Child',\r\n            birthday: '2010-01-01',\r\n            gender: 'male',\r\n            role: 'child',\r\n            avatar: '/avatar.png',\r\n            interests: ['reading', 'sports']\r\n        };\r\n\r\n        it('should create user successfully', async () => {\r\n            const mockParent = testUtils.createMockUser({ role: 'parent', email: 'parent@test.com' });\r\n            const mockFamilyData = testUtils.createMockFamily({ email: 'parent@test.com', members: [] });\r\n            const mockCreatedUser = testUtils.createMockUser(validUserData);\r\n\r\n            mockUser.findOne.mockResolvedValue(null); // No existing user\r\n            mockFamily.findOne.mockResolvedValue(mockFamilyData as any);\r\n            mockUser.create.mockResolvedValue(mockCreatedUser as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockParent,\r\n                body: validUserData\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await createUser(mockReq as any, mockRes as any);\r\n\r\n            expect(mockUser.create).toHaveBeenCalled();\r\n            expect(mockEmailService.sendMail).toHaveBeenCalled();\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null, body: validUserData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await createUser(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n\r\n        it('should return 403 if user is child', async () => {\r\n            const mockChild = testUtils.createMockUser({ role: 'child' });\r\n            const mockReq = testUtils.createMockRequest({ user: mockChild, body: validUserData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await createUser(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(403);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Forbidden' });\r\n        });\r\n\r\n        it('should return 400 if required fields missing', async () => {\r\n            const mockParent = testUtils.createMockUser({ role: 'parent' });\r\n            const incompleteData = { name: 'Test' }; // Missing required fields\r\n\r\n            const mockReq = testUtils.createMockRequest({ user: mockParent, body: incompleteData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await createUser(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'All required fields must be filled.' });\r\n        });\r\n\r\n        it('should return 409 if username already taken', async () => {\r\n            const mockParent = testUtils.createMockUser({ role: 'parent', email: 'parent@test.com' });\r\n            const existingUser = testUtils.createMockUser({ name: 'Test Child', email: 'parent@test.com' });\r\n\r\n            mockUser.findOne.mockResolvedValue(existingUser as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ user: mockParent, body: validUserData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await createUser(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(409);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'This username is already taken for this email.' });\r\n        });\r\n\r\n        it('should return 400 if interests is not array', async () => {\r\n            const mockParent = testUtils.createMockUser({ role: 'parent' });\r\n            const invalidData = { ...validUserData, interests: 'not-an-array' };\r\n\r\n            const mockReq = testUtils.createMockRequest({ user: mockParent, body: invalidData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await createUser(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Interests must be an array.' });\r\n        });\r\n\r\n        it('should return 400 if invalid gender', async () => {\r\n            const mockParent = testUtils.createMockUser({ role: 'parent' });\r\n            const invalidData = { ...validUserData, gender: 'invalid' };\r\n\r\n            const mockReq = testUtils.createMockRequest({ user: mockParent, body: invalidData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await createUser(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: \"Gender must be either 'male' or 'female'.\" });\r\n        });\r\n\r\n        it('should return 400 if invalid role', async () => {\r\n            const mockParent = testUtils.createMockUser({ role: 'parent' });\r\n            const invalidData = { ...validUserData, role: 'invalid' };\r\n\r\n            const mockReq = testUtils.createMockRequest({ user: mockParent, body: invalidData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await createUser(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Invalid role.' });\r\n        });\r\n\r\n        it('should return 400 if invalid birthday', async () => {\r\n            const mockParent = testUtils.createMockUser({ role: 'parent' });\r\n            const invalidData = { ...validUserData, birthday: 'invalid-date' };\r\n\r\n            const mockReq = testUtils.createMockRequest({ user: mockParent, body: invalidData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await createUser(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Invalid birthday format.' });\r\n        });\r\n\r\n        it('should return 404 if family not found', async () => {\r\n            const mockParent = testUtils.createMockUser({ role: 'parent' });\r\n            \r\n            mockUser.findOne.mockResolvedValue(null); // No existing user\r\n            mockFamily.findOne.mockResolvedValue(null); // No family found\r\n\r\n            const mockReq = testUtils.createMockRequest({ user: mockParent, body: validUserData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await createUser(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(404);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Family not found.' });\r\n        });\r\n    });\r\n\r\n\r\n    // 4. test editUserProfile API\r\n    describe('editUserProfile', () => {\r\n        it('should edit user profile successfully', async () => {\r\n            const mockUserData = testUtils.createMockUser();\r\n            mockUser.findById.mockResolvedValue(mockUserData as any);\r\n            mockUser.findOne.mockResolvedValue(null); // No duplicate name\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { \r\n                    userId: '507f1f77bcf86cd799439011',\r\n                    name: 'Updated Name',\r\n                    birthday: '1990-01-01',\r\n                    gender: 'male',\r\n                    avatar: '/new-avatar.png'\r\n                }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await editUserProfile(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.send).toHaveBeenCalledWith({\r\n                message: \"User profile updated successfully\",\r\n                user: expect.any(Object)\r\n            });\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await editUserProfile(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n\r\n        it('should return 403 if child tries to change role', async () => {\r\n            const mockChild = testUtils.createMockUser({ role: 'child' });\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockChild,\r\n                body: { role: 'parent' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await editUserProfile(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(403);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Forbidden: You cannot change role nor email' });\r\n        });\r\n\r\n        it('should return 404 if user not found', async () => {\r\n            const mockParent = testUtils.createMockUser({ role: 'parent' });\r\n            mockUser.findById.mockResolvedValue(null);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockParent,\r\n                body: { userId: '507f1f77bcf86cd799439011' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await editUserProfile(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(404);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'User not found' });\r\n        });\r\n\r\n        it('should return 400 if name already exists', async () => {\r\n            const mockUserData = testUtils.createMockUser();\r\n            const existingUser = testUtils.createMockUser({ name: 'Existing Name' });\r\n            \r\n            mockUser.findById.mockResolvedValue(mockUserData as any);\r\n            mockUser.findOne.mockResolvedValue(existingUser as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { \r\n                    userId: '507f1f77bcf86cd799439011',\r\n                    name: 'Existing Name'\r\n                }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await editUserProfile(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ \r\n                error: 'A user with the same email and name already exists.' \r\n            });\r\n        });\r\n    });\r\n\r\n    // 5. test deleteUser API\r\n    describe('deleteUser', () => {\r\n        it('should delete user successfully', async () => {\r\n            const mockUserData = testUtils.createMockUser();\r\n            const mockFamilyData = testUtils.createMockFamily({ \r\n                members: [{ _id: '507f1f77bcf86cd799439011', role: 'child', name: 'Test', gender: 'male', avatar: '/avatar.png' }]\r\n            });\r\n\r\n            mockUser.findById.mockResolvedValue(mockUserData as any);\r\n            mockFamily.findById.mockResolvedValue(mockFamilyData as any);\r\n            mockUser.countDocuments.mockResolvedValue(2); // More than 1 parent\r\n            mockUser.findByIdAndDelete.mockResolvedValue(mockUserData as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { userId: '507f1f77bcf86cd799439011' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await deleteUser(mockReq as any, mockRes as any);\r\n\r\n            expect(mockUser.findByIdAndDelete).toHaveBeenCalledWith('507f1f77bcf86cd799439011');\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await deleteUser(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n\r\n        it('should return 400 if trying to delete last parent', async () => {\r\n            const mockParent = testUtils.createMockUser({ role: 'parent' });\r\n            const mockFamilyData = testUtils.createMockFamily();\r\n\r\n            mockUser.findById.mockResolvedValue(mockParent as any);\r\n            mockFamily.findById.mockResolvedValue(mockFamilyData as any);\r\n            mockUser.countDocuments.mockResolvedValue(1); // Only 1 parent\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockParent,\r\n                body: { userId: '507f1f77bcf86cd799439011' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await deleteUser(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ \r\n                error: 'Cannot delete the last parent in the family' \r\n            });\r\n        });\r\n    });\r\n\r\n    // 6. test updatePassword API\r\n    describe('updatePassword', () => {\r\n        it('should update password successfully', async () => {\r\n            const mockUserData = testUtils.createMockUser();\r\n            mockUser.findById.mockResolvedValue(mockUserData as any);\r\n            \r\n            (mockBcrypt.compare as jest.Mock)\r\n                .mockResolvedValueOnce(true)   // Old password matches\r\n                .mockResolvedValueOnce(false); // New password is different\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { \r\n                    userId: '507f1f77bcf86cd799439011',\r\n                    oldPassword: 'oldPass123!',\r\n                    newPassword: 'NewPass123!',\r\n                    confirmPassword: 'NewPass123!'\r\n                }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updatePassword(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.send).toHaveBeenCalledWith({\r\n                message: \"Password updated successfully.\",\r\n                password: 'NewPass123!'\r\n            });\r\n        });\r\n\r\n        it('should return 400 if old password incorrect', async () => {\r\n            const mockUserData = testUtils.createMockUser();\r\n            mockUser.findById.mockResolvedValue(mockUserData as any);\r\n            (mockBcrypt.compare as jest.Mock).mockResolvedValue(false);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { \r\n                    userId: '507f1f77bcf86cd799439011',\r\n                    oldPassword: 'wrongPass',\r\n                    newPassword: 'NewPass123!',\r\n                    confirmPassword: 'NewPass123!'\r\n                }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updatePassword(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Old password is incorrect.' });\r\n        });\r\n\r\n        it('should return 400 if new password same as old', async () => {\r\n            const mockUserData = testUtils.createMockUser();\r\n            mockUser.findById.mockResolvedValue(mockUserData as any);\r\n            (mockBcrypt.compare as jest.Mock).mockResolvedValue(true);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { \r\n                    userId: '507f1f77bcf86cd799439011',\r\n                    oldPassword: 'samePass123!',\r\n                    newPassword: 'samePass123!',\r\n                    confirmPassword: 'samePass123!'\r\n                }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updatePassword(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ \r\n                error: 'New password cannot be the same as the old password.' \r\n            });\r\n        });\r\n\r\n        it('should return 400 if password does not meet requirements', async () => {\r\n            const mockUserData = testUtils.createMockUser();\r\n            mockUser.findById.mockResolvedValue(mockUserData as any);\r\n            \r\n            (mockBcrypt.compare as jest.Mock)\r\n                .mockResolvedValueOnce(true)   // Old password matches\r\n                .mockResolvedValueOnce(false); // New password is different\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { \r\n                    userId: '507f1f77bcf86cd799439011',\r\n                    oldPassword: 'oldPass123!',\r\n                    newPassword: 'weak', // Weak password\r\n                    confirmPassword: 'weak'\r\n                }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updatePassword(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ \r\n                error: 'Password must be at least 8 characters long, include an uppercase letter, lowercase letter, a number, and a special character.' \r\n            });\r\n        });\r\n    });\r\n\r\n    // 7. test getUserStars API\r\n    describe('getUserStars', () => {\r\n        it('should get user stars successfully', async () => {\r\n            const mockUserData = testUtils.createMockUser({ stars: 150 });\r\n            const mockReq = testUtils.createMockRequest({ user: mockUserData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserStars(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.send).toHaveBeenCalledWith({\r\n                message: \"Stars retrieved successfully\",\r\n                stars: 150\r\n            });\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserStars(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n    });\r\n\r\n    // 8. test updateUserStars API\r\n    describe('updateUserStars', () => {\r\n        it('should update user stars successfully', async () => {\r\n            const mockUserData = testUtils.createMockUser({ \r\n                stars: 100, \r\n                familyId: '507f1f77bcf86cd799439012' \r\n            });\r\n            mockFamily.findByIdAndUpdate.mockResolvedValue({} as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { stars: 50 }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateUserStars(mockReq as any, mockRes as any);\r\n\r\n            expect(mockUserData.stars).toBe(150); // 100 + 50\r\n            expect(mockFamily.findByIdAndUpdate).toHaveBeenCalledWith(\r\n                '507f1f77bcf86cd799439012',\r\n                { $inc: { totalStars: 50 } }\r\n            );\r\n            expect(mockRecalculateFamilyMemberRanks.recalculateFamilyMemberRanks).toHaveBeenCalledWith(\r\n                '507f1f77bcf86cd799439012',\r\n                mockUserData\r\n            );\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.send).toHaveBeenCalledWith({\r\n                message: \"User stars updated successfully\",\r\n                user: mockUserData\r\n            });\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: null,\r\n                body: { stars: 50 }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateUserStars(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n\r\n        it('should return 400 if stars is undefined', async () => {\r\n            const mockUserData = testUtils.createMockUser();\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: {} // No stars field\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateUserStars(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Stars must be a valid number.' });\r\n        });\r\n\r\n        it('should return 400 if stars is not a number', async () => {\r\n            const mockUserData = testUtils.createMockUser();\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { stars: 'invalid' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateUserStars(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Stars must be a valid number.' });\r\n        });\r\n\r\n        it('should return 400 if stars is negative', async () => {\r\n            const mockUserData = testUtils.createMockUser();\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { stars: -10 }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateUserStars(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Stars must be a valid number.' });\r\n        });\r\n\r\n        it('should return 400 if user has no family id', async () => {\r\n            const mockUserData = testUtils.createMockUser({ \r\n                stars: 100,\r\n                familyId: null // No family ID\r\n            });\r\n            \r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { stars: 50 }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateUserStars(mockReq as any, mockRes as any);\r\n\r\n            expect(mockUserData.stars).toBe(150); // Stars still get added\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'No family id' });\r\n        });\r\n\r\n        it('should handle zero stars correctly', async () => {\r\n            const mockUserData = testUtils.createMockUser({ \r\n                stars: 100, \r\n                familyId: '507f1f77bcf86cd799439012' \r\n            });\r\n            mockFamily.findByIdAndUpdate.mockResolvedValue({} as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { stars: 0 }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateUserStars(mockReq as any, mockRes as any);\r\n\r\n            expect(mockUserData.stars).toBe(100); // 100 + 0 = 100\r\n            expect(mockFamily.findByIdAndUpdate).toHaveBeenCalledWith(\r\n                '507f1f77bcf86cd799439012',\r\n                { $inc: { totalStars: 0 } }\r\n            );\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n        });\r\n\r\n        it('should handle database error gracefully', async () => {\r\n            const mockUserData = testUtils.createMockUser({ \r\n                stars: 100, \r\n                familyId: '507f1f77bcf86cd799439012' \r\n            });\r\n            // Mock save to throw an error\r\n            mockUserData.save = jest.fn().mockRejectedValue(new Error('Database error'));\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { stars: 50 }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateUserStars(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(500);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Error updating user stars' });\r\n        });\r\n\r\n        it('should handle family update error gracefully', async () => {\r\n            const mockUserData = testUtils.createMockUser({ \r\n                stars: 100, \r\n                familyId: '507f1f77bcf86cd799439012' \r\n            });\r\n            // Mock family update to throw an error\r\n            mockFamily.findByIdAndUpdate.mockRejectedValue(new Error('Family update failed'));\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { stars: 50 }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateUserStars(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(500);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Error updating user stars' });\r\n        });\r\n\r\n        it('should handle rank recalculation error gracefully', async () => {\r\n            const mockUserData = testUtils.createMockUser({ \r\n                stars: 100, \r\n                familyId: '507f1f77bcf86cd799439012' \r\n            });\r\n            mockFamily.findByIdAndUpdate.mockResolvedValue({} as any);\r\n            // Mock rank recalculation to throw an error\r\n            mockRecalculateFamilyMemberRanks.recalculateFamilyMemberRanks.mockRejectedValue(\r\n                new Error('Rank calculation failed')\r\n            );\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { stars: 50 }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateUserStars(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(500);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Error updating user stars' });\r\n        });\r\n    });\r\n\r\n    // 9. test getUserCoins API\r\n    describe('getUserCoins', () => {\r\n        it('should get user coins successfully', async () => {\r\n            const mockUserData = testUtils.createMockUser({ coins: 200 });\r\n            const mockReq = testUtils.createMockRequest({ user: mockUserData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserCoins(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.send).toHaveBeenCalledWith({\r\n                message: \"Coins retrieved successfully\",\r\n                coins: 200\r\n            });\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserCoins(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n    });\r\n\r\n    // 10. test updateUserCoins API\r\n    describe('updateUserCoins', () => {\r\n        it('should update user coins successfully', async () => {\r\n            const mockUserData = testUtils.createMockUser({ coins: 100 });\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { coins: 50 }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateUserCoins(mockReq as any, mockRes as any);\r\n\r\n            expect(mockUserData.coins).toBe(150);\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.send).toHaveBeenCalledWith({\r\n                message: \"User coins updated successfully\",\r\n                user: mockUserData\r\n            });\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateUserCoins(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n\r\n        it('should return 400 if coins is invalid', async () => {\r\n            const mockUserData = testUtils.createMockUser();\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { coins: 'invalid' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateUserCoins(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Stars must be a valid number.' });\r\n        });\r\n    });\r\n\r\n    // 11. test getLocation API\r\n    describe('getLocation', () => {\r\n        it('should get user location successfully', async () => {\r\n            const mockUserData = testUtils.createMockUser({ currentLocation: 'New York' });\r\n            const mockReq = testUtils.createMockRequest({ user: mockUserData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getLocation(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.send).toHaveBeenCalledWith({\r\n                message: \"Location retrieved successfully\",\r\n                location: 'New York'\r\n            });\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getLocation(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n    });\r\n\r\n    // 12. test updateLocation API\r\n    describe('updateLocation', () => {\r\n        it('should update user location successfully', async () => {\r\n            const mockUserData = testUtils.createMockUser({ currentLocation: 'Old Location' });\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { currentLocation: 'New Location' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateLocation(mockReq as any, mockRes as any);\r\n\r\n            expect(mockUserData.currentLocation).toBe('New Location');\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.send).toHaveBeenCalledWith({\r\n                message: \"User location updated successfully\",\r\n                user: mockUserData\r\n            });\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateLocation(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n\r\n        it('should return 400 if location is invalid', async () => {\r\n            const mockUserData = testUtils.createMockUser();\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { currentLocation: '' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateLocation(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Location must be valid.' });\r\n        });\r\n\r\n        it('should return 400 if location is not string', async () => {\r\n            const mockUserData = testUtils.createMockUser();\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { currentLocation: 123 }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await updateLocation(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Location must be valid.' });\r\n        });\r\n    });\r\n\r\n    // 13. test getUserRank API\r\n    describe('getUserRank', () => {\r\n        it('should get user rank successfully', async () => {\r\n            const mockUserData = testUtils.createMockUser({ rankInFamily: 3 });\r\n            const mockReq = testUtils.createMockRequest({ user: mockUserData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserRank(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.send).toHaveBeenCalledWith({\r\n                message: \"Rank retrieved successfully\",\r\n                Rank: 3\r\n            });\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserRank(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n    });\r\n\r\n    // 14. test getUserInterests API\r\n    describe('getUserInterests', () => {\r\n        it('should get user interests successfully', async () => {\r\n            const mockUserData = testUtils.createMockUser({ interests: ['reading', 'sports'] });\r\n            const mockReq = testUtils.createMockRequest({ user: mockUserData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserInterests(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.send).toHaveBeenCalledWith({\r\n                message: \"Interests retrieved successfully\",\r\n                Interests: ['reading', 'sports']\r\n            });\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserInterests(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n    });\r\n\r\n    // 15. test startAdventure API\r\n    describe('startAdventure', () => {\r\n        it('should start adventure successfully', async () => {\r\n            const mockUserData = testUtils.createMockUser({ adventures: [] });\r\n            const mockAdventureData = testUtils.createMockAdventure();\r\n            \r\n            mockAdventure.findById.mockResolvedValue(mockAdventureData as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { adventureId: '507f1f77bcf86cd799439015' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await startAdventure(mockReq as any, mockRes as any);\r\n\r\n            expect(mockAdventure.findById).toHaveBeenCalledWith('507f1f77bcf86cd799439015');\r\n            expect(mockUserData.adventures).toHaveLength(1);\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.send).toHaveBeenCalledWith({\r\n                message: \"Adventure started successfully\",\r\n                user: mockUserData\r\n            });\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await startAdventure(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n\r\n        it('should return 404 if adventure not found', async () => {\r\n            const mockUserData = testUtils.createMockUser({ adventures: [] });\r\n            mockAdventure.findById.mockResolvedValue(null);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { adventureId: '507f1f77bcf86cd799439015' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await startAdventure(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(404);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Adventure not found' });\r\n        });\r\n\r\n        it('should return 400 if adventure already started', async () => {\r\n            const existingAdventure = {\r\n                adventureId: { equals: jest.fn().mockReturnValue(true) },\r\n                challenges: [],\r\n                status: 'in-progress',\r\n                isAdventureCompleted: false,\r\n                starsReward: 100,\r\n                coinsReward: 50,\r\n                progress: 0\r\n            };\r\n            const mockUserData = testUtils.createMockUser({ adventures: [existingAdventure] });\r\n            const mockAdventureData = testUtils.createMockAdventure();\r\n            \r\n            mockAdventure.findById.mockResolvedValue(mockAdventureData as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { adventureId: '507f1f77bcf86cd799439015' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await startAdventure(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(400);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Adventure already started' });\r\n        });\r\n    });\r\n\r\n    // 16. test completeChallenge API\r\n    describe('completeChallenge', () => {\r\n        it('should complete challenge successfully', async () => {\r\n            const mockChallenge = {\r\n                challengeId: { equals: jest.fn().mockReturnValue(true) },\r\n                isCompleted: false,\r\n                completedAt: undefined\r\n            };\r\n            const mockAdventureProgress = {\r\n                adventureId: { equals: jest.fn().mockReturnValue(true) },\r\n                challenges: [mockChallenge], \r\n                progress: 0,\r\n                isAdventureCompleted: false,\r\n                status: 'in-progress',\r\n                starsReward: 100, \r\n                coinsReward: 50  \r\n            };\r\n            const mockUserData = testUtils.createMockUser({ \r\n                adventures: [mockAdventureProgress],\r\n                stars: 100,\r\n                coins: 100,\r\n                familyId: '507f1f77bcf86cd799439012'\r\n            });\r\n            \r\n            const mockAdventureData = {\r\n                challenges: [{\r\n                    _id: { equals: jest.fn().mockReturnValue(true) },\r\n                    starsReward: 25,\r\n                    coinsReward: 15\r\n                }]\r\n            };\r\n            \r\n            mockAdventure.findById.mockReturnValue({\r\n                lean: jest.fn().mockResolvedValue(mockAdventureData)\r\n            } as any);\r\n            mockFamily.findByIdAndUpdate.mockResolvedValue({} as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { \r\n                    adventureId: '507f1f77bcf86cd799439015',\r\n                    challengeId: '507f1f77bcf86cd799439016'\r\n                }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await completeChallenge(mockReq as any, mockRes as any);\r\n\r\n            expect(mockChallenge.isCompleted).toBe(true);\r\n            expect(mockChallenge.completedAt).toBeDefined();\r\n            \r\n            expect(mockUserData.stars).toBe(225);\r\n            expect(mockUserData.coins).toBe(165);\r\n            \r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n        });\r\n\r\n        it('should complete challenge without adventure completion bonus', async () => {\r\n            const mockChallenge1 = {\r\n                challengeId: { equals: jest.fn().mockReturnValue(true) },\r\n                isCompleted: false,\r\n                completedAt: undefined\r\n            };\r\n            const mockChallenge2 = {\r\n                challengeId: { equals: jest.fn().mockReturnValue(false) },\r\n                isCompleted: false,\r\n                completedAt: undefined\r\n            };\r\n            const mockAdventureProgress = {\r\n                adventureId: { equals: jest.fn().mockReturnValue(true) },\r\n                challenges: [mockChallenge1, mockChallenge2], \r\n                progress: 0,\r\n                isAdventureCompleted: false,\r\n                status: 'in-progress',\r\n                starsReward: 100,\r\n                coinsReward: 50\r\n            };\r\n            const mockUserData = testUtils.createMockUser({ \r\n                adventures: [mockAdventureProgress],\r\n                stars: 100,\r\n                coins: 100,\r\n                familyId: '507f1f77bcf86cd799439012'\r\n            });\r\n            \r\n            const mockAdventureData = {\r\n                challenges: [{\r\n                    _id: { equals: jest.fn().mockReturnValue(true) },\r\n                    starsReward: 25,\r\n                    coinsReward: 15\r\n                }]\r\n            };\r\n            \r\n            mockAdventure.findById.mockReturnValue({\r\n                lean: jest.fn().mockResolvedValue(mockAdventureData)\r\n            } as any);\r\n            mockFamily.findByIdAndUpdate.mockResolvedValue({} as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { \r\n                    adventureId: '507f1f77bcf86cd799439015',\r\n                    challengeId: '507f1f77bcf86cd799439016'\r\n                }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await completeChallenge(mockReq as any, mockRes as any);\r\n\r\n            expect(mockChallenge1.isCompleted).toBe(true);\r\n            expect(mockAdventureProgress.progress).toBe(50); \r\n            expect(mockAdventureProgress.isAdventureCompleted).toBe(false);\r\n            \r\n            expect(mockUserData.stars).toBe(125);\r\n            expect(mockUserData.coins).toBe(115);\r\n            \r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await completeChallenge(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n\r\n        it('should return 404 if adventure not found in user profile', async () => {\r\n            const mockUserData = testUtils.createMockUser({ adventures: [] });\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { \r\n                    adventureId: '507f1f77bcf86cd799439015',\r\n                    challengeId: '507f1f77bcf86cd799439016'\r\n                }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await completeChallenge(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(404);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: \"Adventure not found in user's profile\" });\r\n        });\r\n\r\n        it('should return 404 if challenge not found in adventure', async () => {\r\n            const mockAdventureProgress = {\r\n                adventureId: { equals: jest.fn().mockReturnValue(true) },\r\n                challenges: [], // No challenges\r\n                progress: 0,\r\n                isAdventureCompleted: false,\r\n                status: 'in-progress',\r\n                starsReward: 100,\r\n                coinsReward: 50\r\n            };\r\n            const mockUserData = testUtils.createMockUser({ adventures: [mockAdventureProgress] });\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { \r\n                    adventureId: '507f1f77bcf86cd799439015',\r\n                    challengeId: '507f1f77bcf86cd799439016'\r\n                }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await completeChallenge(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(404);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Challenge not found in adventure' });\r\n        });\r\n\r\n        it('should return 404 if adventure data not found', async () => {\r\n            const mockChallenge = {\r\n                challengeId: { equals: jest.fn().mockReturnValue(true) },\r\n                isCompleted: false\r\n            };\r\n            const mockAdventureProgress = {\r\n                adventureId: { equals: jest.fn().mockReturnValue(true) },\r\n                challenges: [mockChallenge],\r\n                progress: 0\r\n            };\r\n            const mockUserData = testUtils.createMockUser({ adventures: [mockAdventureProgress] });\r\n            \r\n            mockAdventure.findById.mockReturnValue({\r\n                lean: jest.fn().mockResolvedValue(null)\r\n            } as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData,\r\n                body: { \r\n                    adventureId: '507f1f77bcf86cd799439015',\r\n                    challengeId: '507f1f77bcf86cd799439016'\r\n                }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await completeChallenge(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(404);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Adventure not found' });\r\n        });\r\n    });\r\n\r\n    // 17. test getUserAdventures API\r\n    describe('getUserAdventures', () => {\r\n        it('should get user adventures successfully', async () => {\r\n            const mockAdventures = [\r\n                { adventureId: '507f1f77bcf86cd799439015', status: 'in-progress' }\r\n            ];\r\n            const mockUserData = testUtils.createMockUser({ adventures: mockAdventures });\r\n            const mockReq = testUtils.createMockRequest({ user: mockUserData });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserAdventures(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.send).toHaveBeenCalledWith({\r\n                message: \"User adventures retrieved successfully\",\r\n                Adventure: mockAdventures\r\n            });\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserAdventures(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n    });\r\n\r\n    // 18. test getUserPurchasedItems API\r\n    describe('getUserPurchasedItems', () => {\r\n        it('should get user purchased items successfully', async () => {\r\n            const mockPurchasedItems = [\r\n                { itemId: '507f1f77bcf86cd799439020' },\r\n                { itemId: '507f1f77bcf86cd799439021' }\r\n            ];\r\n            const mockUserData = {\r\n                purchasedItems: mockPurchasedItems\r\n            };\r\n            const mockUserDoc = {\r\n                select: jest.fn().mockResolvedValue(mockUserData)\r\n            };\r\n            mockUser.findById.mockReturnValue(mockUserDoc as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: testUtils.createMockUser(),\r\n                body: { userId: '507f1f77bcf86cd799439011' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserPurchasedItems(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.json).toHaveBeenCalledWith({\r\n                message: \"Purchased items retrieved successfully\",\r\n                purchasedItems: ['507f1f77bcf86cd799439020', '507f1f77bcf86cd799439021']\r\n            });\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserPurchasedItems(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Unauthorized' });\r\n        });\r\n\r\n        it('should return 403 if trying to access other user items', async () => {\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: testUtils.createMockUser({ _id: 'different-user-id' }),\r\n                body: { userId: '507f1f77bcf86cd799439011' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserPurchasedItems(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(403);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'Forbidden' });\r\n        });\r\n\r\n        it('should return 404 if user not found', async () => {\r\n            const mockUserDoc = {\r\n                select: jest.fn().mockResolvedValue(null)\r\n            };\r\n            mockUser.findById.mockReturnValue(mockUserDoc as any);\r\n\r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: testUtils.createMockUser(),\r\n                body: { userId: '507f1f77bcf86cd799439011' }\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserPurchasedItems(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(404);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ error: 'User not found' });\r\n        });\r\n    });\r\n\r\n    describe('getUserAvatar', () => {\r\n        it('should get user avatar successfully', async () => {\r\n            const mockUserData = testUtils.createMockUser({ \r\n                avatar: '/avatars/child-boy-1.png' \r\n            });\r\n            \r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData\r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserAvatar(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.json).toHaveBeenCalledWith({\r\n                message: \"Avatar retrieved successfully\",\r\n                avatar: '/avatars/child-boy-1.png'\r\n            });\r\n        });\r\n\r\n        it('should return 401 if user not authenticated', async () => {\r\n            const mockReq = testUtils.createMockRequest({ user: null });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserAvatar(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(401);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ \r\n                error: \"Unauthorized\" \r\n            });\r\n        });\r\n\r\n        it('should handle different avatar formats correctly', async () => {\r\n            const testCases = [\r\n                { avatar: '/avatars/parent-woman.png', description: 'parent avatar' },\r\n                { avatar: '/avatars/child-girl-2.png', description: 'child avatar' },\r\n                { avatar: 'https://example.com/avatar.jpg', description: 'external URL' },\r\n                { avatar: '/default-avatar.svg', description: 'default avatar' },\r\n                { avatar: '', description: 'empty string' },\r\n                { avatar: null, description: 'null avatar' },\r\n                { avatar: undefined, description: 'undefined avatar' }\r\n            ];\r\n\r\n            for (const { avatar, description } of testCases) {\r\n                const mockUserData = testUtils.createMockUser({ avatar });\r\n                const mockReq = testUtils.createMockRequest({ user: mockUserData });\r\n                const mockRes = testUtils.createMockResponse();\r\n\r\n                await getUserAvatar(mockReq as any, mockRes as any);\r\n\r\n                expect(mockRes.status).toHaveBeenCalledWith(200);\r\n                expect(mockRes.json).toHaveBeenCalledWith({\r\n                    message: \"Avatar retrieved successfully\",\r\n                    avatar: avatar\r\n                });\r\n            }\r\n        });\r\n\r\n        it('should handle server errors gracefully', async () => {\r\n            // Create a normal user object first\r\n            const mockUserData = testUtils.createMockUser();\r\n            \r\n            // Then override the avatar property with a getter that throws\r\n            Object.defineProperty(mockUserData, 'avatar', {\r\n                get() {\r\n                    throw new Error('Database connection failed');\r\n                },\r\n                configurable: true\r\n            });\r\n            \r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: mockUserData \r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserAvatar(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(500);\r\n            expect(mockRes.json).toHaveBeenCalledWith({ \r\n                error: \"Error fetching avatar\" \r\n            });\r\n        });\r\n\r\n\r\n        it('should handle user with all avatar edge cases', async () => {\r\n            // Test various edge cases for avatar property\r\n            const edgeCases = [\r\n                { avatar: 0, description: 'number zero' },\r\n                { avatar: false, description: 'boolean false' },\r\n                { avatar: [], description: 'empty array' },\r\n                { avatar: {}, description: 'empty object' },\r\n                { avatar: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==', description: 'base64 image' }\r\n            ];\r\n\r\n            for (const { avatar, description } of edgeCases) {\r\n                const mockUserData = testUtils.createMockUser({ avatar });\r\n                const mockReq = testUtils.createMockRequest({ user: mockUserData });\r\n                const mockRes = testUtils.createMockResponse();\r\n\r\n                await getUserAvatar(mockReq as any, mockRes as any);\r\n\r\n                expect(mockRes.status).toHaveBeenCalledWith(200);\r\n                expect(mockRes.json).toHaveBeenCalledWith({\r\n                    message: \"Avatar retrieved successfully\",\r\n                    avatar: avatar\r\n                });\r\n            }\r\n        });\r\n\r\n        it('should handle user object without avatar property', async () => {\r\n            // Create user without avatar property\r\n            const userWithoutAvatar = testUtils.createMockUser();\r\n            delete (userWithoutAvatar as any).avatar;\r\n            \r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: userWithoutAvatar \r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserAvatar(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.json).toHaveBeenCalledWith({\r\n                message: \"Avatar retrieved successfully\",\r\n                avatar: undefined\r\n            });\r\n        });\r\n\r\n        it('should work with minimal user object', async () => {\r\n            // Test with very basic user object\r\n            const minimalUser = {\r\n                _id: '507f1f77bcf86cd799439011',\r\n                avatar: '/simple-avatar.png'\r\n            };\r\n            \r\n            const mockReq = testUtils.createMockRequest({ \r\n                user: minimalUser \r\n            });\r\n            const mockRes = testUtils.createMockResponse();\r\n\r\n            await getUserAvatar(mockReq as any, mockRes as any);\r\n\r\n            expect(mockRes.status).toHaveBeenCalledWith(200);\r\n            expect(mockRes.json).toHaveBeenCalledWith({\r\n                message: \"Avatar retrieved successfully\",\r\n                avatar: '/simple-avatar.png'\r\n            });\r\n        });\r\n    });\r\n});"],"version":3}