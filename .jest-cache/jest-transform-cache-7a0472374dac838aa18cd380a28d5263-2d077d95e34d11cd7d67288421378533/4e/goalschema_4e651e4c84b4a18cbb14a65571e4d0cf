db485b21c5f897315af7518960fb15c0
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.goalSchema = void 0;
const mongoose_1 = require("mongoose");
const task_schema_1 = require("./task.schema");
exports.goalSchema = new mongoose_1.Schema({
    _id: { type: mongoose_1.Schema.Types.ObjectId, auto: true },
    title: { type: String, required: true },
    description: { type: String, required: true },
    type: { type: String, required: true, enum: ['personal', 'family'] },
    tasks: { type: [task_schema_1.taskSchema], default: [] },
    nbOfTasksCompleted: { type: Number, default: 0 },
    isCompleted: { type: Boolean, default: false },
    dueDate: { type: Date },
    createdAt: { type: Date, required: true },
    completedAt: { type: Date },
    rewards: {
        stars: { type: Number, default: 10 },
        coins: { type: Number, default: 5 },
        achievementName: { type: String },
        achievementId: { type: mongoose_1.Schema.Types.ObjectId, ref: "Achievement" },
    },
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxVU0VSXFxEZXNrdG9wXFxndWFyZGlhbi1ncm92ZVxcZ3VhcmRpYW4tZ3JvdmUtYmFja2VuZFxcc3JjXFxtb2RlbHNcXHNjaGVtYXNcXGdvYWwuc2NoZW1hLnRzIiwibWFwcGluZ3MiOiI7OztBQUFBLHVDQUFrQztBQUVsQywrQ0FBMkM7QUFHOUIsUUFBQSxVQUFVLEdBQUcsSUFBSSxpQkFBTSxDQUFRO0lBQ3hDLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxpQkFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtJQUNoRCxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7SUFDdkMsV0FBVyxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUMsSUFBSSxFQUFFO0lBQzVDLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLEVBQUU7SUFDcEUsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsd0JBQVUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDMUMsa0JBQWtCLEVBQUUsRUFBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUM7SUFDOUMsV0FBVyxFQUFFLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFO0lBQzlDLE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7SUFDdkIsU0FBUyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFO0lBQ3pDLFdBQVcsRUFBRSxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUM7SUFDekIsT0FBTyxFQUFFO1FBQ0wsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO1FBQ3BDLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRTtRQUNuQyxlQUFlLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFO1FBQ2pDLGFBQWEsRUFBRSxFQUFFLElBQUksRUFBRSxpQkFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFLGFBQWEsRUFBRTtLQUNyRTtDQUNKLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXFVTRVJcXERlc2t0b3BcXGd1YXJkaWFuLWdyb3ZlXFxndWFyZGlhbi1ncm92ZS1iYWNrZW5kXFxzcmNcXG1vZGVsc1xcc2NoZW1hc1xcZ29hbC5zY2hlbWEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NoZW1hIH0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcbmltcG9ydCB7IElHb2FsIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvSUdvYWxcIjtcclxuaW1wb3J0IHsgdGFza1NjaGVtYSB9IGZyb20gXCIuL3Rhc2suc2NoZW1hXCI7XHJcbmltcG9ydCB7IEFjaGlldmVtZW50IH0gZnJvbSBcIi4uL2FjaGlldmVtZW50cy5tb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdvYWxTY2hlbWEgPSBuZXcgU2NoZW1hPElHb2FsPih7XHJcbiAgICBfaWQ6IHsgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLCBhdXRvOiB0cnVlIH0sXHJcbiAgICB0aXRsZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUgfSxcclxuICAgIHR5cGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgZW51bTogWydwZXJzb25hbCcsICdmYW1pbHknXSB9LFxyXG4gICAgdGFza3M6IHsgdHlwZTogW3Rhc2tTY2hlbWFdLCBkZWZhdWx0OiBbXSB9LFxyXG4gICAgbmJPZlRhc2tzQ29tcGxldGVkOiB7dHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwfSxcclxuICAgIGlzQ29tcGxldGVkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgICBkdWVEYXRlOiB7IHR5cGU6IERhdGUgfSxcclxuICAgIGNyZWF0ZWRBdDogeyB0eXBlOiBEYXRlLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgY29tcGxldGVkQXQ6IHt0eXBlOiBEYXRlfSxcclxuICAgIHJld2FyZHM6IHtcclxuICAgICAgICBzdGFyczogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDEwIH0sXHJcbiAgICAgICAgY29pbnM6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiA1IH0sXHJcbiAgICAgICAgYWNoaWV2ZW1lbnROYW1lOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gICAgICAgIGFjaGlldmVtZW50SWQ6IHsgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6IFwiQWNoaWV2ZW1lbnRcIiB9LCAgICAgXHJcbiAgICB9LFxyXG59KTtcclxuIl0sInZlcnNpb24iOjN9