{"version":3,"sources":["C:\\Users\\USER\\Desktop\\guardian-grove\\guardian-grove-backend\\src\\services\\email.service.ts"],"sourcesContent":["import nodemailer from 'nodemailer';\r\nimport winston from 'winston';\r\nimport dotenv from \"dotenv\";\r\ndotenv.config();\r\n\r\nconst logger = winston.createLogger({\r\n    level: 'debug',\r\n    format: winston.format.json(),\r\n    transports: [new winston.transports.Console()]\r\n});\r\n\r\nexport const sendMail = async (from: string, to: string, subject: string, html: string) => {\r\n    const transporter = nodemailer.createTransport({\r\n        service: process.env.MAIL_HOST,\r\n        auth: {\r\n            user: process.env.EMAIL_USERNAME,\r\n            pass: process.env.EMAIL_PASSWORD\r\n        }\r\n    });\r\n\r\n    const mailOptions = {\r\n        from: from,\r\n        to: to,\r\n        subject: subject,\r\n        html: html\r\n    };\r\n\r\n    logger.info(`Sending mail to - ${to}`);\r\n    transporter.sendMail(mailOptions, (error, info)=> {\r\n        if (error) {\r\n            logger.error(error);\r\n        } else {\r\n            logger.info('Email sent: ' + info.response);\r\n        }\r\n    });\r\n}\r\n"],"names":["sendMail","dotenv","config","logger","winston","createLogger","level","format","json","transports","Console","from","to","subject","html","transporter","nodemailer","createTransport","service","process","env","MAIL_HOST","auth","user","EMAIL_USERNAME","pass","EMAIL_PASSWORD","mailOptions","info","error","response"],"mappings":";;;;+BAWaA;;;eAAAA;;;mEAXU;gEACH;+DACD;;;;;;AACnBC,eAAM,CAACC,MAAM;AAEb,MAAMC,SAASC,gBAAO,CAACC,YAAY,CAAC;IAChCC,OAAO;IACPC,QAAQH,gBAAO,CAACG,MAAM,CAACC,IAAI;IAC3BC,YAAY;QAAC,IAAIL,gBAAO,CAACK,UAAU,CAACC,OAAO;KAAG;AAClD;AAEO,MAAMV,WAAW,OAAOW,MAAcC,IAAYC,SAAiBC;IACtE,MAAMC,cAAcC,mBAAU,CAACC,eAAe,CAAC;QAC3CC,SAASC,QAAQC,GAAG,CAACC,SAAS;QAC9BC,MAAM;YACFC,MAAMJ,QAAQC,GAAG,CAACI,cAAc;YAChCC,MAAMN,QAAQC,GAAG,CAACM,cAAc;QACpC;IACJ;IAEA,MAAMC,cAAc;QAChBhB,MAAMA;QACNC,IAAIA;QACJC,SAASA;QACTC,MAAMA;IACV;IAEAX,OAAOyB,IAAI,CAAC,CAAC,kBAAkB,EAAEhB,IAAI;IACrCG,YAAYf,QAAQ,CAAC2B,aAAa,CAACE,OAAOD;QACtC,IAAIC,OAAO;YACP1B,OAAO0B,KAAK,CAACA;QACjB,OAAO;YACH1B,OAAOyB,IAAI,CAAC,iBAAiBA,KAAKE,QAAQ;QAC9C;IACJ;AACJ"}